{"ast":null,"code":"var _jsxFileName = \"/Users/gopi.s/Desktop/mosaic/mosaic-react-assessment/mosaic-front-end/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport Students from \"./students/Students\";\nimport SearchName from \"./students/NameSearch\";\nimport SearchTag from \"./students/SearchTag\";\nimport { CCard, CCardBody } from \"@coreui/react\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst App = () => {\n  _s();\n\n  const [studentData, setStudentData] = useState([]);\n  const [studentNameFilter, setStudentNameFilter] = useState(\"\");\n  const [tagFilter, setTagFilter] = useState(\"\"); // -----------------API call\n\n  async function fetchURL(url) {\n    const response = await fetch(url);\n    const data = await response.json();\n    const students = data.students;\n    students.forEach(student => {\n      student.tags = [];\n    });\n    setStudentData(students);\n  } //--------------- USE EFFECT\n\n\n  useEffect(() => {\n    fetchURL(`https://api.hatchways.io/assessment/students`);\n  }, []); // -------------- Average Grade\n\n  function findAverage(array) {\n    let sum = 0;\n\n    for (let i = 0; i < array.length; i++) {\n      sum += parseInt(array[i]);\n    }\n\n    let totalAverage = sum / array.length;\n    return totalAverage;\n  } // --------------- Name Search\n\n\n  const nameFilter = filterString => {\n    if (filterString && filterString.toLowerCase) {\n      filterString = filterString.toLowerCase();\n    }\n\n    let filtered = [];\n    studentData.forEach(student => {\n      const fullName = `${student.firstName} ${student.lastName}`.toLowerCase();\n\n      if (!filterString || fullName.includes(filterString)) {\n        filtered.push(student);\n      }\n    });\n    return filtered;\n  }; //----------------- Adding a Tag\n\n\n  const createTagForStudent = (student, newTag) => {\n    student.tags.push(newTag);\n    const indexOfStudent = studentData.findIndex(s => s.id === student.id);\n    let studentDataWithChanges = [...studentData.slice(0, indexOfStudent), student, ...studentData.slice(indexOfStudent + 1)];\n    setStudentData(studentDataWithChanges);\n  }; // ------------------- Search Tags\n\n\n  const searchTags = tagInput => {\n    if (tagInput && tagInput.toLowerCase) {\n      tagInput = tagInput.toLowerCase();\n    }\n\n    let searchTagsArray = [];\n    studentData.forEach(student => {\n      let tagExists = false;\n      student.tags.forEach(t => {\n        if (t.toLowerCase().includes(tagInput)) {\n          tagExists = true;\n        }\n      });\n\n      if (!tagInput || tagExists) {\n        searchTagsArray.push(student);\n      }\n    });\n    return searchTagsArray;\n  };\n\n  var cardStyle = {\n    display: \"block\",\n    width: \"30vw\",\n    transitionDuration: \"0.3s\",\n    height: \"45vw\"\n  };\n  const filteredByNameStudents = nameFilter(studentNameFilter);\n  const filteredByTagStudents = searchTags(tagFilter);\n  const combinedFilteredStudents = []; //-------------- Combine Search Arrays\n\n  filteredByNameStudents.forEach(student => {\n    if (filteredByTagStudents.includes(student)) {\n      combinedFilteredStudents.push(student);\n    }\n  }); //------------------- Return\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      style: {\n        cardStyle\n      },\n      children: /*#__PURE__*/_jsxDEV(CardContent, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"searchName\",\n          fontFamily: \"Raleway\",\n          fontSize: \"100px\",\n          children: /*#__PURE__*/_jsxDEV(SearchName, {\n            handleNameSearch: setStudentNameFilter,\n            placeholder: \"Search by name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"searchTag\",\n          fontFamily: \"Raleway\",\n          children: /*#__PURE__*/_jsxDEV(SearchTag, {\n            handleSearchTag: setTagFilter,\n            placeholder: \"Search by tag\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\" \", /*#__PURE__*/_jsxDEV(Students, {\n            students: combinedFilteredStudents,\n            handleAverage: findAverage,\n            createTagForStudent: createTagForStudent\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"hsfUPi7vBcnfP/lVy8xR8Kp661Y=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/gopi.s/Desktop/mosaic/mosaic-react-assessment/mosaic-front-end/src/App.js"],"names":["React","useState","useEffect","Students","SearchName","SearchTag","CCard","CCardBody","Card","CardContent","CardActions","App","studentData","setStudentData","studentNameFilter","setStudentNameFilter","tagFilter","setTagFilter","fetchURL","url","response","fetch","data","json","students","forEach","student","tags","findAverage","array","sum","i","length","parseInt","totalAverage","nameFilter","filterString","toLowerCase","filtered","fullName","firstName","lastName","includes","push","createTagForStudent","newTag","indexOfStudent","findIndex","s","id","studentDataWithChanges","slice","searchTags","tagInput","searchTagsArray","tagExists","t","cardStyle","display","width","transitionDuration","height","filteredByNameStudents","filteredByTagStudents","combinedFilteredStudents"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport Students from \"./students/Students\";\nimport SearchName from \"./students/NameSearch\";\nimport SearchTag from \"./students/SearchTag\";\nimport { CCard, CCardBody } from \"@coreui/react\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardActions from \"@material-ui/core/CardActions\";\n\nconst App = () => {\n  const [studentData, setStudentData] = useState([]);\n  const [studentNameFilter, setStudentNameFilter] = useState(\"\");\n  const [tagFilter, setTagFilter] = useState(\"\");\n\n  // -----------------API call\n\n  async function fetchURL(url) {\n    const response = await fetch(url);\n    const data = await response.json();\n    const students = data.students;\n    students.forEach((student) => {\n      student.tags = [];\n    });\n    setStudentData(students);\n  }\n\n  //--------------- USE EFFECT\n\n  useEffect(() => {\n    fetchURL(`https://api.hatchways.io/assessment/students`);\n  }, []);\n\n  // -------------- Average Grade\n\n  function findAverage(array) {\n    let sum = 0;\n    for (let i = 0; i < array.length; i++) {\n      sum += parseInt(array[i]);\n    }\n    let totalAverage = sum / array.length;\n    return totalAverage;\n  }\n\n  // --------------- Name Search\n\n  const nameFilter = (filterString) => {\n    if (filterString && filterString.toLowerCase) {\n      filterString = filterString.toLowerCase();\n    }\n    let filtered = [];\n    studentData.forEach((student) => {\n      const fullName = `${student.firstName} ${student.lastName}`.toLowerCase();\n\n      if (!filterString || fullName.includes(filterString)) {\n        filtered.push(student);\n      }\n    });\n    return filtered;\n  };\n\n  //----------------- Adding a Tag\n\n  const createTagForStudent = (student, newTag) => {\n    student.tags.push(newTag);\n\n    const indexOfStudent = studentData.findIndex((s) => s.id === student.id);\n    let studentDataWithChanges = [\n      ...studentData.slice(0, indexOfStudent),\n      student,\n      ...studentData.slice(indexOfStudent + 1),\n    ];\n    setStudentData(studentDataWithChanges);\n  };\n\n  // ------------------- Search Tags\n\n  const searchTags = (tagInput) => {\n    if (tagInput && tagInput.toLowerCase) {\n      tagInput = tagInput.toLowerCase();\n    }\n\n    let searchTagsArray = [];\n    studentData.forEach((student) => {\n      let tagExists = false;\n      student.tags.forEach((t) => {\n        if (t.toLowerCase().includes(tagInput)) {\n          tagExists = true;\n        }\n      });\n\n      if (!tagInput || tagExists) {\n        searchTagsArray.push(student);\n      }\n    });\n    return searchTagsArray;\n  };\n  var cardStyle = {\n    display: \"block\",\n    width: \"30vw\",\n    transitionDuration: \"0.3s\",\n    height: \"45vw\",\n  };\n  const filteredByNameStudents = nameFilter(studentNameFilter);\n  const filteredByTagStudents = searchTags(tagFilter);\n  const combinedFilteredStudents = [];\n\n  //-------------- Combine Search Arrays\n\n  filteredByNameStudents.forEach((student) => {\n    if (filteredByTagStudents.includes(student)) {\n      combinedFilteredStudents.push(student);\n    }\n  });\n\n  //------------------- Return\n\n  return (\n    <div className=\"container\">\n      <Card\n        style={{\n          cardStyle,\n        }}\n      >\n        <CardContent>\n          <div className=\"searchName\" fontFamily=\"Raleway\" fontSize=\"100px\">\n            <SearchName\n              handleNameSearch={setStudentNameFilter}\n              placeholder=\"Search by name\"\n            />\n          </div>\n\n          <div className=\"searchTag\" fontFamily=\"Raleway\">\n            <SearchTag\n              handleSearchTag={setTagFilter}\n              placeholder=\"Search by tag\"\n            />\n          </div>\n          <div>\n            {\" \"}\n            <Students\n              students={combinedFilteredStudents}\n              handleAverage={findAverage}\n              createTagForStudent={createTagForStudent}\n            />\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}